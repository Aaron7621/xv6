- set某一位为1或0
  - 假设某flag位为：#define FLAG (1L << 1)，即000..00010
  - set该一个PTE的FLAG位
    - 为1：PTE |= FLAG
    - 为0：PTE &= ~FLAG



- 任何关于一个大集合的锁，都可以考虑拆分集合，细化锁的方式提高并行度



- 添加一个系统调用过程
  - 用户层：
    - 在usys.pl中添加一个entry("syscall_name")，这个这个脚本会生成用户程序系统调用时调用的函数（汇编代码，主要就是将系统调用号传到a7，然后ecall。在ecall返回时ret）
    - 在user.h中添加用户层的系统调用函数声明。这个函数实际上就是执行上一条中生成的汇编代码。在此将其声明为提供给用户的C接口。
  - 内核层：
    - 在sysproc或者sysfile等系统调用实现程序中实现具体的系统调用函数。通过argstr，argint等函数获得用户传入的系统调用参数（底层是在用户陷入时保存的trapframe中获取）。
    - 在syscall.h中添加系统调用号
    - 在syscall.c系统调用分发函数中，将实现的系统调用函数添加到系统调用函数指针数组中。